library "common-lib@main"

dynamic {
    project = "asure.hr.services"
    serviceAccount = "jenkins-nonprod"
    modules = [ "CUSTOMSCRIPT" ]
    stages = [ 
        development: "development",
        staging: "staging",
        production: "production"
    ]
    scriptConfig = [
        dir: "services/api/direct-deposits/serverless.yml",  // Updated to the specific path where the HR Service Lambdas are located
        accountIds: [ 
            development: "317299412255", // Development AWS Account ID
        ],
        build: [
            name: "build.sh",
           // params: [ "{branch}" ]
        ],
        deploy: [
            name: "deploy.sh",
            params: [ "{accountId}", "{environment}" ]
        ],
        postDeploy: [
            name: "postDeploy.sh"
        ]
    ]
}
